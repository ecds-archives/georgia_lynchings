{% extends "base.html" %}


{% block title %}Georgia Lynchings Timeline{% endblock %}

{% block page-head %}
    {{ block.super }}
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/timemap/lib/jquery-1.6.2.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/timemap/lib/mxn/mxn.js?(googlev3)"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/timemap/lib/timeline-1.2.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/timemap/src/timemap.js"></script>
    <link href="{{ STATIC_URL }}style/timemap.css" type="text/css" rel="stylesheet"/>

    <script type="text/javascript">

var tm;
$(function() {

    // make a custom map style
    var styledMapType = new google.maps.StyledMapType([
        {
            featureType: "water",
            elementType: "all",
            stylers: [
              { saturation: 0 },
              { lightness: 100 }
            ]
        },
        {
            featureType: "all",
            elementType: "all",
            stylers: [
              { saturation: -100 }
            ]
        }
    ], {
        name: "white"
    });

    tm = TimeMap.init({
        mapId: "map",               // Id of map div element (required)
        timelineId: "timeline",     // Id of timeline div element (required)
        options: {
            eventIconPath: "../images/"
        },
        datasets: [
            {
                id: "event",
                title: "Events",
                theme: "red",
                type: "basic",
                options: {
                    items: [
                        {
                          "title" : "Columbia",
                          "start" : "1875-01-01",
                          "point" : {
                              "lat" : 31.753389,
                              "lon" : -82.28558
                           },
                          "options" : {
                            "infoHtml": "<div><b>Columbia</b></div>" +
                                         "<div>Date: 1875-01-01</div>" +
                                         "<div>Location: Columbia, GA</div>" +
                                        "<div>link to detail page goes here</div>"
                          }
                        },
                        {
                          "title" : "Worth, Dougherty",
                          "start" : "1881-02-02",
                          "point" : {
                              "lat" : 31.556775,
                              "lon" : -82.451152
                           },
                          "options" : {
                            "infoHtml": "<div><b>Worth, Dougherty</b></div>" +
                                         "<div>Date: 1881-02-02</div>" +
                                         "<div>Location: Bartow, GA</div>" +
                                        "<div>link to detail page goes here</div>"
                          }
                        },
                        {
                          "start" : "1887-03-03",
                          "title" : "Bartow",
                          "point" : {
                              "lat" : 31.527925,
                              "lon" : -84.61891
                           },
                          "options" : {
                            "infoHtml": "<div><b>Bartow</b></div>" +
                                         "<div>Date: 1887-03-03</div>" +
                                         "<div>Location: Bartow, GA</div>" +
                                        "<div>link to detail page goes here</div>"
                          }
                        },
                        {
                          "title" : "Rape",
                          "start" : "1900-04-04",
                          "point" : {
                              "lat" : 31.223831,
                              "lon" : -84.19464
                           },
                          "options" : {
                            "infoHtml": "<div><b>Rape</b></div>" +
                                         "<div>Date: 1900-04-04</div>" +
                                         "<div>Location:  GA</div>" +
                                        "<div>link to detail page goes here</div>"
                          }
                        },
                        {
                          "start" : "1920-05-05",
                          "title" : "Turner",
                          "point" : {
                              "lat" : 31.716228,
                              "lon" : -83.627404
                           },
                          "options" : {
                            "infoHtml": "<div><b>Turner</b></div>" +
                                         "<div>Date: 1920-05-05</div>" +
                                         "<div>Location: Turner, GA</div>" +
                                        "<div>link to detail page goes here</div>"
                          }
                        },
                    ]
                }
            }
        ],
        bandIntervals: [
            Timeline.DateTime.DECADE,
            Timeline.DateTime.CENTURY

        ]
    });

    // set the map to our custom style
    var gmap = tm.getNativeMap();
    //gmap.mapTypes.set("white", styledMapType);
    //gmap.setMapTypeId("white");
});
    </script>
{% endblock %}
{% block style %}
    {{ block.super }}
     <style>
     div#timelinecontainer{ height: 300px; }
    div#mapcontainer{ height: 300px; }
     </style>
{% endblock %}


{% block content %}
    <h1 class="main">Timeline Map</h1>
    <div id="timemap" />
      <div id="timelinecontainer" />
      <div id="timeline"></div>
      </div>
        <div id="mapcontainer">
          <div id="map"></div>
    </div>
    </div>
{% endblock %}